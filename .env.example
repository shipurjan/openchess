# Database
# PostgreSQL connection string for Prisma
DATABASE_URL=postgresql://openchess:openchess@localhost:5432/openchess

# Redis
# Redis connection string for game sessions and rate limiting
REDIS_URL=redis://localhost:6379

# Server
# Node environment: development or production
NODE_ENV=development
# Hostname for the server (default: localhost)
HOSTNAME=localhost
# Port for the server (default: 3000)
PORT=3000

# Public URL (used for OpenGraph metadata, defaults to https://openchess.app)
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Rate Limiting
# Max game creation requests per window (default: 10)
RATE_LIMIT_GAME_CREATE_MAX=10
# Game creation rate limit window in seconds (default: 60)
RATE_LIMIT_GAME_CREATE_WINDOW=60
# Max WebSocket connection attempts per window (default: 30)
RATE_LIMIT_WS_CONNECT_MAX=30
# WebSocket rate limit window in seconds (default: 60)
RATE_LIMIT_WS_CONNECT_WINDOW=60

# Game Session Limits
# Max active games per IP address (default: 5)
MAX_ACTIVE_GAMES_PER_IP=5
# Seconds before a game is considered abandoned (default: 300)
ABANDONMENT_TIMEOUT_SECONDS=300
# Seconds before a player can claim win against disconnected opponent (default: 60)
CLAIM_WIN_TIMEOUT_SECONDS=60

# Redis Sweep (Cleanup)
# Interval between sweep runs in milliseconds (default: 300000 = 5 minutes)
SWEEP_INTERVAL_MS=300000
# Max age for games stuck in WAITING state in milliseconds (default: 3600000 = 1 hour)
WAITING_GAME_MAX_AGE_MS=3600000
# Max time a room can be disconnected before cleanup in milliseconds (default: 600000 = 10 minutes)
ZOMBIE_ROOM_MAX_DISCONNECT_MS=600000

# Logging
# Minimum log level: debug, info, warn, error (default: debug in dev, info in prod)
LOG_LEVEL=debug

# CORS
# Comma-separated list of allowed origins for WebSocket connections
# In development, all origins are allowed by default if not set
# In production, cross-origin requests are denied if not set
# Example: CORS_ALLOWED_ORIGINS=https://openchess.example.com,https://www.openchess.example.com
CORS_ALLOWED_ORIGINS=
